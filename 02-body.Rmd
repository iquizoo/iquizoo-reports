# 报告正文

```{r setup-body-content}
# default child file pattern: {part}/{report_unit}/{report_type}/{customer_id}
# TODO: use `region_id` to replace `customer_id`
body_child_file <- file.path(
  getOption("reports.archytype"),
  "body", params$report_unit, params$report_type,
  str_c(params$customer_id, ".Rmd")
)
# if the file not found, use a default one
if (!file.exists(body_child_file)) {
  body_child_file <- file.path(
    getOption("reports.archytype"),
    "body", params$report_unit, params$report_type, "default.Rmd"
  )
}
score_levels <- config::get("score.level")
report_abilities <- as_tibble(config::get("report.ability"))
```

```{r get-blai-content, results='asis'}
text_to_render_blai <- knitr::knit_expand(body_child_file)
cat(knitr::knit(text = text_to_render_blai, quiet = TRUE))
```
