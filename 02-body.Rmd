# 报告正文

```{r setup-body-content}
# default child file pattern: {part}/{report_unit}/{report_type}/{customer_id}
# TODO: use `region_id` to replace `customer_id`
body_child_file <- file.path(
  getOption("reports.archytype"),
  "body", params$report_unit, params$report_type,
  str_c(params$customer_id, ".Rmd")
)
# if the file not found, use a default one
if (!file.exists(body_child_file)) {
  body_child_file <- file.path(
    getOption("reports.archytype"),
    "body", params$report_unit, params$report_type, "default.Rmd"
  )
}
score_levels <- config::get("score.level")
score_levels$prop <- diff(pnorm(score_levels$breaks, mean = 100, sd = 15))
level_prop <- as_tibble(score_levels[c("labels", "prop")])
```

```{r get-blai-content, results='asis'}
cat(knitr::knit(text = knitr::knit_expand(body_child_file), quiet = TRUE))
```
